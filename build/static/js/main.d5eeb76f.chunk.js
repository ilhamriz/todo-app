(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={snackbar:"snackbar-provider_snackbar__3LmlT",success:"snackbar-provider_success__1uDB0",error:"snackbar-provider_error__3D3OW",snackbar_show:"snackbar-provider_snackbar_show__1wOdX"}},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(5),i=n.n(r),a=(n(18),n(3)),o=n(2),l=(n(19),n(20),n(0));var d=function(e){var t=e.handleOpenAddCard,n=e.list,c=e.datas;return Object(l.jsx)(l.Fragment,{children:!n.isAddOpen&&Object(l.jsx)("div",{className:"todo__add",children:Object(l.jsxs)("div",{className:"todo__add__open",onClick:function(){return t(n.id)},children:[Object(l.jsxs)("svg",{className:"plus__icon",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(l.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),c.some((function(e){return e.listID===n.id}))?Object(l.jsx)("span",{children:"Add another card"}):Object(l.jsx)("span",{children:"Add a card"})]})})})},u=n(4);n(22);var j=function(e){var t=e.children,n=e.type,c=n||"button",s=e.btnCard?"btn--primary btn--card":"btn--primary";return Object(l.jsx)("button",{type:c,className:s,children:t})},b=(n(23),n(7)),h=n(9),O=n.n(h),f=Object(c.createContext)(),m=function(e){var t=e.children,n=Object(c.useState)({open:!1,type:"success",message:""}),s=Object(o.a)(n,2),r=s[0],i=s[1];Object(c.useEffect)((function(){(null===r||void 0===r?void 0:r.open)&&setTimeout((function(){i((function(e){return Object(b.a)(Object(b.a)({},e),{},{open:!1})}))}),3e3)}),[r]);var a=Object(c.useMemo)((function(){return{setSnackbar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";e&&i((function(n){return Object(b.a)(Object(b.a)({},n),{},{message:e,type:t,open:!0})}))}}}),[i]);return Object(l.jsxs)(f.Provider,{value:a,children:[Object(l.jsx)("div",{className:"".concat(O.a.snackbar," ").concat(O.a[null===r||void 0===r?void 0:r.type]," ").concat((null===r||void 0===r?void 0:r.open)&&O.a.snackbar_show),children:Object(l.jsx)("span",{children:null===r||void 0===r?void 0:r.message})}),t]})};var x=function(e){var t=e.handleAddData,n=e.list,s=e.handleOpenAddCard,r=Object(c.useContext)(f).setSnackbar,i=Object(c.useRef)(null),a=Object(c.useRef)(null),d=Object(c.useState)(""),b=Object(o.a)(d,2),h=b[0],O=b[1];function m(e){a.current&&!a.current.contains(e.target)&&x()}function x(){O(""),s(n.id)}return Object(c.useEffect)((function(){if(n.isAddOpen)return i.current.focus(),a.current.scrollIntoView({behavior:"smooth"}),Object(u.a)(i.current),document.addEventListener("mousedown",m),function(){document.removeEventListener("mousedown",m)}}),[n.isAddOpen]),Object(l.jsx)(l.Fragment,{children:n.isAddOpen&&Object(l.jsxs)("form",{className:"todo__add__form",ref:a,onSubmit:function(e){e.preventDefault(),h.length&&h.replace(/\s/g,"")?h.length>500?r("Your text is too long","error"):(t(h,n.id),O(""),i.current.focus(),i.current.style.height="90px"):r("Card must be filled out","error")},children:[Object(l.jsx)("textarea",{className:"item__edit__input",ref:i,value:h,onChange:function(e){return O(e.target.value)},placeholder:"Enter a title for this card..."}),Object(l.jsxs)("div",{className:"add__button",children:[Object(l.jsx)(j,{type:"submit",btnCard:!0,children:"Add Card"}),Object(l.jsx)("button",{type:"button",className:"add__button--close",onClick:x,children:Object(l.jsxs)("svg",{className:"close__icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(l.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(l.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})})};n(24);var v=function(e){var t=e.lists,n=e.handleAddList,s=Object(c.useRef)(null),r=Object(c.useRef)(null),i=Object(c.useState)(!1),a=Object(o.a)(i,2),d=a[0],b=a[1],h=Object(c.useState)(""),O=Object(o.a)(h,2),f=O[0],m=O[1];function x(e){r.current&&!r.current.contains(e.target)&&v()}function v(){m(""),b(!1)}return Object(c.useEffect)((function(){if(d)return s.current.focus(),Object(u.a)(s.current),document.addEventListener("mousedown",x),function(){document.removeEventListener("mousedown",x)}}),[d]),Object(l.jsx)("div",{className:d?"todo__add-list--open":"todo__add-list",ref:r,children:d?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{className:"add-list__form",onSubmit:function(e){e.preventDefault(),f.length&&(n(f),m(""),b(!1))},children:[Object(l.jsx)("input",{className:"add-list__input",ref:s,value:f,onChange:function(e){return m(e.target.value)},placeholder:"Enter list title...",autoComplete:"off"}),Object(l.jsxs)("div",{className:"add__button",children:[Object(l.jsx)(j,{type:"submit",btnCard:!0,children:"Add List"}),Object(l.jsx)("button",{type:"button",className:"add__button--close",onClick:v,children:Object(l.jsxs)("svg",{className:"close__icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(l.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(l.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"add-list__open",onClick:function(){return b(!0)},children:[Object(l.jsxs)("svg",{className:"plus__icon--white",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(l.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Object(l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),t.length?Object(l.jsx)("span",{children:"Add another list"}):Object(l.jsx)("span",{children:"Add a list"})]})})})},_=n(32);n(25);var p=function(e){var t=e.lists,n=e.handleMenuCard,s=e.currentList,r=e.menuTop,i=Object(c.useState)(!1),a=Object(o.a)(i,2),d=a[0],u=a[1];return Object(l.jsxs)("div",{className:"menu-list",style:{top:"".concat(r,"px")},children:[Object(l.jsxs)("div",{className:"menu-list__item",onClick:function(){return u(!d)},children:[Object(l.jsx)("span",{className:"menu-list__icon-wrapper",children:Object(l.jsxs)("svg",{className:"menu-list__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(l.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(l.jsx)("path",{d:"M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z"})]})}),Object(l.jsx)("span",{children:"Move"})]}),d&&Object(l.jsx)(l.Fragment,{children:t.filter((function(e){return e.id!==s})).map((function(e){return Object(l.jsx)(_.a,{in:d,appear:!0,timeout:300,classNames:"menu-fade",children:Object(l.jsx)("div",{className:"menu-list__item--move",onClick:function(){return n(e.id)},children:e.title},e.id)},e.id)}))}),Object(l.jsxs)("div",{className:"menu-list__item",onClick:function(){return n("delete")},children:[Object(l.jsx)("span",{className:"menu-list__icon-wrapper",children:Object(l.jsxs)("svg",{className:"menu-list__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(l.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(l.jsx)("path",{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zM9 4v2h6V4H9z"})]})}),Object(l.jsx)("span",{children:"Delete"})]})]})};n(28);var g=function(e){var t=e.datas,n=e.data,s=e.lists,r=e.handleMenuCard,i=e.handleEditData,a=Object(c.useContext)(f).setSnackbar,d=Object(c.useRef)(null),b=Object(c.useRef)(null),h=Object(c.useRef)(null),O=Object(c.useState)(0),m=Object(o.a)(O,2),x=m[0],v=m[1],g=Object(c.useState)(0),w=Object(o.a)(g,2),N=w[0],k=w[1],C=Object(c.useState)(0),y=Object(o.a)(C,2),L=y[0],S=y[1],E=Object(c.useState)(!1),I=Object(o.a)(E,2),A=I[0],D=I[1],z=Object(c.useState)(n.name),M=Object(o.a)(z,2),B=M[0],H=M[1],R=document.getElementById("todo__canvas");function W(){v(h.current.offsetTop),k(h.current.offsetLeft-R.scrollLeft)}return Object(c.useEffect)((function(){return W(),R.addEventListener("scroll",W),function(){R.removeEventListener("scroll",W)}}),[]),Object(c.useEffect)((function(){W()}),[t]),Object(c.useEffect)((function(){if(A){var e=function(e){b.current&&!b.current.contains(e.target)&&(D(!1),H(n.name))};d.current.focus(),d.current.select(),Object(u.a)(d.current);var t=d.current.offsetHeight;if(t+x+52>window.innerHeight){var c=window.innerHeight-(t+60);v(c),t>window.innerHeight&&S(Math.abs(c)+24)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[A]),Object(l.jsxs)("li",{className:"todo__item",ref:h,onClick:function(){A||(h.current.offsetLeft-R.scrollLeft<0&&(h.current.scrollIntoView(),R.scrollLeft-=16),h.current.offsetWidth+N>window.innerWidth&&(h.current.scrollIntoView({behavior:"smooth"}),R.scrollLeft+=150),setTimeout((function(){D(!0)}),0))},children:[Object(l.jsx)("div",{className:"item__main",children:Object(l.jsx)("div",{className:"item__task",children:n.name})}),A&&Object(l.jsx)("div",{className:"item__edit",children:Object(l.jsxs)("form",{className:"item__edit__card",onSubmit:function(e){e.preventDefault(),B.length&&B.replace(/\s/g,"")?B.length>500?a("Your text is too long","error"):(i(n.id,B),D(!1)):a("Card must be filled out","error")},ref:b,style:{top:"".concat(x,"px"),left:"".concat(N,"px")},children:[Object(l.jsx)("textarea",{className:"item__edit__input",ref:d,value:B,onChange:function(e){return H(e.target.value)}}),Object(l.jsx)(_.a,{in:A,appear:!0,timeout:200,classNames:"fade",children:Object(l.jsx)(p,{lists:s,handleMenuCard:r,currentList:n.listID,menuTop:L})}),Object(l.jsx)("div",{children:Object(l.jsx)(j,{type:"submit",children:"Save"})})]})})]})};n(29);var w=function(e){var t=e.list,n=e.handleEditList,s=e.handleOpenAddCard,r=e.handleDeleteAllData,i=e.handleDeleteList,a=Object(c.useRef)(),d=Object(c.useRef)(),u=Object(c.useRef)(),j=Object(c.useRef)(),b=Object(c.useRef)(),h=Object(c.useState)(t.title),O=Object(o.a)(h,2),f=O[0],m=O[1],x=Object(c.useState)(!1),v=Object(o.a)(x,2),_=v[0],p=v[1],g=Object(c.useState)(!1),w=Object(o.a)(g,2),N=w[0],k=w[1];function C(e){switch(k(!1),e){case"add_card":s(t.id);break;case"delete_all_card":r(t.id);break;default:i(t.id)}}return Object(c.useEffect)((function(){m(t.title)}),[t]),Object(c.useEffect)((function(){if(_){var e=function(e){a.current&&!a.current.contains(e.target)&&(a.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),p(!1))};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[_]),Object(c.useEffect)((function(){if(N){var e=function(e){j.current&&!j.current.contains(e.target)&&b.current&&!b.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[N]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"list-header",ref:u,children:[Object(l.jsx)("form",{className:"list-header__form",ref:a,onClick:function(){return p(!0)},onSubmit:function(e){e.preventDefault(),n(t.id,f),d.current.blur()},children:Object(l.jsx)("input",{className:"list-header__input",value:f,ref:d,onChange:function(e){return m(e.target.value)},autoComplete:"off"})}),Object(l.jsx)("button",{type:"button",className:"list-header__extra",ref:b,onClick:function(){return k(!N)},children:Object(l.jsxs)("svg",{className:"list-header__extra__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(l.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(l.jsx)("path",{d:"M5 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm14 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})]})}),N&&Object(l.jsxs)("div",{className:"pop-over",ref:j,children:[Object(l.jsxs)("div",{className:"pop-over__header",children:[Object(l.jsx)("span",{className:"pop-over__header__title",children:"List actions"}),Object(l.jsx)("button",{type:"button",className:"pop-over__header__close",onClick:function(){return k(!1)},children:Object(l.jsxs)("svg",{className:"close__icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(l.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(l.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),Object(l.jsxs)("div",{className:"pop-over__content",children:[Object(l.jsx)("ul",{className:"pop-over__list",children:Object(l.jsx)("li",{children:Object(l.jsx)("button",{className:"pop-over__item",onClick:function(){return C("add_card")},children:"Add card..."})})}),Object(l.jsx)("ul",{className:"pop-over__list",children:Object(l.jsx)("li",{children:Object(l.jsx)("button",{className:"pop-over__item",onClick:function(){return C("delete_all_card")},children:"Delete all cards in this list..."})})}),Object(l.jsx)("ul",{className:"pop-over__list",children:Object(l.jsx)("li",{children:Object(l.jsx)("button",{className:"pop-over__item",onClick:function(){return C("delete_list")},children:"Delete this list"})})})]})]})]})})};n(30);var N=function(e){var t=e.isChangeBg,n=e.setIsChangeBg,c=e.handleChange,s=e.backgroundColor;return Object(l.jsx)(l.Fragment,{children:t&&Object(l.jsxs)("div",{className:"change-bg",children:[Object(l.jsxs)("div",{className:"change-bg__header",children:[Object(l.jsx)("span",{className:"change-bg__title",children:"Colors"}),Object(l.jsx)("button",{type:"button",className:"change-bg__close",onClick:function(){return n(!1)},children:Object(l.jsxs)("svg",{className:"close__icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(l.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(l.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),Object(l.jsx)("div",{className:"change-bg__content",children:["blue","orange","green","red","purple","pink","green-light","blue-light","gray"].map((function(e,t){return Object(l.jsx)("div",{className:"change-bg__wrapper",children:Object(l.jsxs)("label",{className:"container",children:[Object(l.jsx)("input",{type:"radio",name:"background",value:e,onChange:c,checked:s===e}),Object(l.jsx)("span",{className:"checkmark theme--"+e})]})},t)}))})]})})},k=function(e){var t=e.className;return Object(l.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:t,children:[Object(l.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(l.jsx)("path",{d:"M5 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm14 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})]})};var C=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),i=Object(o.a)(r,2),u=i[0],j=i[1],b=Object(c.useState)(!1),h=Object(o.a)(b,2),O=h[0],f=h[1],m=Object(c.useState)("blue"),_=Object(o.a)(m,2),p=_[0],C=_[1],y=Object(c.useState)(!1),L=Object(o.a)(y,2),S=L[0],E=L[1];function I(e,t){var c=n.findIndex((function(t){return t.id===e})),r=Object(a.a)(n);r[c].title=t,s(r)}function A(e){var t=n.findIndex((function(t){return t.id===e})),c=Object(a.a)(n);M(c[t].id),c.splice(t,1),s(c)}Object(c.useEffect)((function(){return JSON.parse(localStorage.getItem("lists"))&&(s(JSON.parse(localStorage.getItem("lists"))),j(JSON.parse(localStorage.getItem("datas"))),C(localStorage.getItem("theme"))),window.addEventListener("resize",R),R(),function(){window.removeEventListener("resize",R)}}),[]),Object(c.useEffect)((function(){localStorage.setItem("lists",JSON.stringify(n)),localStorage.setItem("datas",JSON.stringify(u))}),[n,u]),Object(c.useEffect)((function(){localStorage.setItem("theme",p)}),[p]);var D=function(e,t){var n={id:u.length?u[u.length-1].id+1:1,name:e,listID:t};j([].concat(Object(a.a)(u),[n]))},z=function(e,t){var n=u.findIndex((function(t){return t.id===e})),c=Object(a.a)(u);c[n].name=t,j(c)};function M(e){var t=Object(a.a)(u);t.filter((function(t){return t.listID===e})).forEach((function(){return t.splice(t.findIndex((function(t){return t.listID===e})),1)})),j(t)}function B(e){var t=n.findIndex((function(t){return t.id===e})),c=Object(a.a)(n);c[t].isAddOpen=!c[t].isAddOpen,s(c)}var H=function(e,t){var n=u.findIndex((function(e){return e.id===t})),c=Object(a.a)(u);c[n].listID=e,j(c),"delete"===e&&function(e){var t=Object(a.a)(u);t.splice(e,1),j(t)}(n)};function R(){window.innerWidth<500?E(!0):E(!1)}return Object(l.jsxs)("div",{className:"todo theme--"+p,children:[Object(l.jsxs)("div",{className:"todo__header",children:[Object(l.jsxs)("div",{className:"todo__header__title",children:[Object(l.jsx)("div",{className:"todo__header__name",children:"Todo App"}),Object(l.jsxs)("span",{className:"todo__header__credit",children:["Made by"," ",Object(l.jsx)("a",{className:"credits__link",href:"https://github.com/ilhamriz",target:"_blank",rel:"noopener noreferrer",children:"Ilhamriz"})]})]}),Object(l.jsxs)("button",{className:"todo__header__menu",onClick:function(){return f(!O)},children:[Object(l.jsx)(k,{className:"todo__header__menu__icon"}),S?null:"Change background"]})]}),Object(l.jsxs)("div",{className:"todo__canvas",id:"todo__canvas",children:[null===n||void 0===n?void 0:n.map((function(e,t){return Object(l.jsxs)("section",{className:"todo__list",children:[Object(l.jsx)("h2",{className:"hidden",children:e.title}),Object(l.jsx)(w,{list:e,handleEditList:I,handleOpenAddCard:B,handleDeleteAllData:M,handleDeleteList:A}),Object(l.jsxs)("ul",{className:"todo__card",children:[u.filter((function(e){return e.listID===n[t].id})).map((function(e){return Object(l.jsx)(g,{datas:u,data:e,lists:n,handleMenuCard:function(t){return H(t,e.id)},handleEditData:z},e.id)})),Object(l.jsx)(x,{list:e,handleAddData:D,handleOpenAddCard:B})]}),Object(l.jsx)(d,{list:e,datas:u,handleOpenAddCard:B})]},null===e||void 0===e?void 0:e.id)})),Object(l.jsx)(v,{lists:n,handleAddList:function(e){var t={id:n.length?n[n.length-1].id+1:1,title:e,isAddOpen:!1};s([].concat(Object(a.a)(n),[t]))}})]}),Object(l.jsx)(N,{isChangeBg:O,setIsChangeBg:f,handleChange:function(e){C(e.target.value)},backgroundColor:p})]})};var y=function(){return Object(l.jsx)("div",{className:"main__container",children:Object(l.jsx)(C,{})})};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(m,{children:Object(l.jsx)(y,{})})}),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.d5eeb76f.chunk.js.map